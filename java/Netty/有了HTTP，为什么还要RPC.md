
```toc

```

## 历史轨迹

既然有 `HTTP` 请求可以解决系统间调用的问题了，为什么还会有人使用 `RPC` 调用？题主明显是只看到现状，而忽略了两种远程请求调用的历史进程。`RPC` 在 1984 年就被人用来做分布式系统的通信，Java 在 `1.1` 版本提供了 Java 版本的 `RPC` 框架（`RMI`），而 `HTTP` 协议在 1990 年才开始作为主流协议出现，而且 `HTTP` 发明的场景是用于 web 架构，而不是分布式系统间通信，这导致了在很长一段时间内，HTTP 都是浏览器程序和后端 web 系统通信用的东西，上面的文档格式都是 HTML（非常啰嗦），没有人会把 HTTP 作为分布式系统通信的协议。在很长一段时间内，RPC 才是正统。随着前端技术的发展，AJAX 技术和 JSON 文档在前端界逐渐成为主流，HTTP 调用才摆脱 HTML，开始使用 JSON 这一相对简洁的文档格式，为后面用于系统间调用定下基础。最后随着 RESTFUL 思潮的兴起，越来越多系统考虑用 HTTP 来提供服务，但这时候，RPC 已经是各种大型分布式调用的标配了。所以题主的问题真正应该要反过来问，既然有 RPC 了，为什么还要有 HTTP 请求？这个问题不难回答，因为现在大部分的系统都是给浏览器使用的，因此 HTTP 协议必不可少，而这大部分系统中的绝大部分，对于后端系统间调用的性能都是要求不高的，毕竟走的都是内网，它们关心的是前端和后端的性能，因此后端系统间调用如果能够采用和前端一样的技术栈，那无疑是维护成本最低的，而这时 HTTP 的技术生态也刚好满足这个条件，所以就星星之火可以燎原了。那么对于少数的部分系统，他们需要使用 RPC，一可能是老架构，也不敢动这块，二是性能要求可能只有 RPC 可以满足。就我个人而言，我所任职的公司的云平台也早就统一要求走 HTTP 了，性能，有别的路可以想办法，而且 HTTP2 也有了很大改进了。

## 相关比较

1、相对于 `http1.1` 来说，`rpc` 如果直接自定义协议，然后走 `TCP/IP`，无疑性能会有一定的提升，但是目前 `http2` 有了很大改进
直接使用 `http2` 来实现 `rpc` 调用也是可以的，比如 `gRPC`

2、一般 `RPC` 框架不仅仅只是一些自定义协议的实现，还有一些比如失败重试、服务注册发现等等功能

3、一般 `RPC` 用于内部各个服务之间的调用，便于统一管理，但是和外界最好还是使用通用的 `HTTP`，当然如果像 `gRPC` 一样都使用 `HTTP`感觉更好

## restful

`REST` 是一种软件架构风格。这种风格的典型应用，就是 `HTTP`。其因为简单、扩展性强的特点而广受开发者的青睐。

从使用上来看，`HTTP` 接口只关注服务提供方，对于客户端怎么调用并不关心。接口只要保证有客户端调用时，返回对应的数据就行了。而 `RPC` 则要求客户端接口保持和服务端的一致。

从设计上来看，`RPC`，所谓的远程过程调用，是面向方法的，`REST`：所谓的 `Representational state transfer` ，是面向资源的
序列化也不同，`REST` 是基于 HTTP 协议，而 `RPC` 可以基于 `TCP/UDP`，也可以基于 `HTTP` 协议进行传输的。

`REST` 调用及测试都很方便，`RPC` 就显得有点繁琐，但是 `RPC` 的效率是毋庸置疑的，所以建议在多系统之间的内部调用采用 `RPC`。对外提供的服务，`Rest` 更加合适。