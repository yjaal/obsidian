
```toc

```

## 类型、类和 ID 选择器

```css
/*对html中所有的<h1>标签进行设定*/
h1

/*对html中所有的class=box进行设定*/
.box{}

/*对html中所有的id=unique进行设定*/
#unique{}
```

**全局选择器**
>全局选择器，是由一个星号（`*`）代指的，它选中了文档中的所有内容（或者是父元素中的所有内容，比如，它紧随在其他元素以及邻代运算符之后的时候）。

```css
/*选择器正选中`<article>`元素的_任何_第一子元素*/
article *:first-child {

}
```

**类选择器**

```html
<div class="notebox">
    This is an informational note.
</div>

<div class="notebox warning">
    This note shows a warning.
</div>

<div class="notebox danger">
    This note shows danger!
</div>

<div class="danger">
    This won't get styled — it also needs to have the notebox class
</div>
```

```css
.notebox {
  border: 4px solid #666;
  padding: .5em;
}

.notebox.warning {
  border-color: orange;
  font-weight: bold;
}

.notebox.danger {
  border-color: red;
  font-weight: bold;
}
```

这里主要是看下类有多个值时如何使用。同时第一个 `.notebox` 设置对样式对所有存在 `class="notebox"` 对元素都有效，但是如果后面再次设置，比如 `.notebox.warning` 时如果同样也设置了 `border` 属性，那么会将之前的设置进行覆盖。

**ID 选择器**

`ID` 选择器优先级大于所有其他选择器。如果不是唯一，可以指定某个标签

```html
<h1 id="heading">ID selector</h1>
<p>Veggies es bonus vobis, proinde vos postulo essum magis kohlrabi welsh onion daikon amaranth tatsoi tomatillo
    melon azuki bean garlic.</p>

<p id="one">Gumbo beet greens corn soko <strong>endive</strong> gumbo gourd. Parsley shallot courgette tatsoi pea sprouts fava bean collard
    greens dandelion okra wakame tomato. Dandelion cucumber earthnut pea peanut soko zucchini.</p>
```

```css
#one {
    background-color: yellow;
}
/*只针对h1标签中id为heading的元素*/
h1#heading {
    color: rebeccapurple;
}
```



## 标签属性选择器

```css
/*这组选择器根据一个元素上的某个标签的属性的存在以选择元素的不同方式*/
a[title]{}

/*根据一个有特定值的标签属性是否存在来选择*/
a[href="https://example.com"] { }
```

### 存否和值选择器

这些选择器允许基于一个元素自身是否存在（例如 `href`）或者基于各式不同的按属性值的匹配，来选取元素。

|选择器|示例|描述|
|-|-|-|
| `[attr]` | `a[title]` |匹配带有一个名为_attr_的属性的元素——方括号里的值。|
| `[attr=value]` | `a[href="https://example.com"]` |匹配带有一个名为_attr_的属性的元素，其值正好为_value_——引号中的字符串。|
| `[attr~=value]` | `p[class~="special"]` |匹配带有一个名为_attr_的属性的元素，其值正为_value_，或者匹配带有一个_attr_属性的元素，其值有一个或者更多，至少有一个和_value_匹配。注意，在一列中的好几个值，是用空格隔开的。|
| `[attr\|=value] ` | ` div[lang\|=zh] ` |匹配带有一个名为_attr_的属性的元素，其值可正好为_value_，或者开始为_value_，后面紧随着一个连字符。|
注意：最后一行的竖线进行了转义。

### 子字符串匹配选择器

这些选择器让更高级的属性的值的子字符串的匹配变得可行。例如，如果你有 `box-warning` 和 `box-error` 类，想把开头为“box-”字符串的每个物件都匹配上的话，你可以用 `[class^="box-"]` 来把它们两个都选中。

|选择器|示例|描述|
|-|-|-|
| `[attr^=value]` | `li[class^="box-"]` |匹配带有一个名为_attr_的属性的元素，其值开头为_value_子字符串。|
| `[attr$=value]` | `li[class$="-box"]` |匹配带有一个名为_attr_的属性的元素，其值结尾为_value_子字符串|
| `[attr*=value]` | `li[class*="box"]` |匹配带有一个名为_attr_的属性的元素，其值的字符串中的任何地方，至少出现了一次_value_子字符串。|

### 大小写敏感

如果你想在大小写不敏感的情况下，匹配属性值的话，你可以在闭合括号之前，使用 `i` 值。这个标记告诉浏览器，要以大小写不敏感的方式匹配 ASCII 字符。没有了这个标记的话，值会按照文档语言对大小写的处理方式，进行匹配——HTML 中是大小写敏感的。

```html
<h1>Case-insensitivity</h1>
<ul>
    <li class="a">Item 1</li>
    <li class="A">Item 2</li>
    <li class="Ab">Item 3</li>
</ul>
```


```css
li[class^="a"] {
    background-color: yellow;
}

li[class^="a" i] {
    color: red;
}
```

## 伪类与伪元素

```css
/*`:hover`伪类会在鼠标指针悬浮到一个元素上的时候选择这个元素*/
a:hover { }

/*还可以包含了伪元素，选择一个元素的某个部分而不是元素自己。例如，`::first-line`是会选择一个元素（下面的情况中是`<p>`）中的第一行，类似`<span>`包在了第一个被格式化的行外面，然后选择这个`<span>`。*/
p::first-line { }
```

伪类是选择器的一种，它用于选择处于特定状态的元素，比如当它们是这一类型的第一个元素时，或者是当鼠标指针悬浮在元素上面的时候。它们表现得会像是你向你的文档的某个部分应用了一个类一样，帮你在你的标记文本中减少多余的类，让你的代码更灵活、更易于维护。伪类就是开头为冒号的关键字。


### 伪元素是什么

伪元素以类似方式表现，不过表现得是像你往标记文本中加入全新的 HTML 元素一样，而不是向现有的元素上应用类。伪元素开头为双冒号 `::`

例如，如果你想选中一段的第一行，你可以把它用一个 `<span>` 元素包起来，然后使用元素选择器；不过，如果包起来的单词/字符数目长于或者短于父元素的宽度，这样做会失败。由于我们一般不会知道一行能放下多少单词/字符——因为屏幕宽度或者字体大小改变的时候这也会变——通过改变 HTML 的方式来可预测地这么做是不可能的。

`::first-line`伪元素选择器会值得信赖地做到这件事——即使单词/字符的数目改变，它也只会选中第一行。


### 把伪类和伪元素结合起来

如果你想让第一段的第一行加粗，你需要把 `:first-child` 和 `::first-line` 选择器放到一起。试着编辑前面的实时示例，让它使用下面的 CSS。这里的意思是，我们想选择一个 `<article>` 元素里面的第一个 `<p>` 元素的第一行。

```css
article p:first-child::first-line {
  font-size: 120%;
  font-weight: bold;
}
```

### 生成带有 `::before,::after` 的内容

有一组特别的伪元素，它们和 [`content`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/content) 属性一同使用，使用 CSS 将内容插入到你的文档中中。

```html
<p class="box">Content in the box in my HTML page.</p>
```

```css
.box::before {
    content: "This should show before the other content. ";
} 
```

这里会在 html 中文本前面插入一段文本，但是一般也不这么做，这些伪元素的更推荐的用法是插入一个图标，例如下面的示例加入的一个小箭头，作为一个视觉性的提示，而且我们并不希望屏幕阅读器读出它。

这些伪元素经常用于插入空字符串，其后可以像页面上的其他元素被样式化。

下个示例，我们已经用 `::before`伪元素加入了个空字符串。我们把它设为了`display: block`，以让它可以用 width 和 height 进行样式化。然后我们可以用 CSS 像任何元素那样样式化。你可以摆弄 CSS，改变它的外观和行为。

```css
.box::before {
    content: "";
    display: block;
    width: 100px;
    height: 100px;
    background-color: rebeccapurple;
    border: 1px solid black;
} 
```

```html
<p class="box">Content in the box in my HTML page.</p>
```


### 伪类导航

|选择器|描述|示例|
|-|-|-|
| `:active` |在用户激活（例如点击）元素的时候匹配。|
| `:any-link` |匹配一个链接的`:link`和`:visited`状态。|
| `:blank` |匹配空输入值的[`<input>`元素](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/input)。|
| `:checked` |匹配处于选中状态的单选或者复选框。|
| `:current` |匹配正在展示的元素，或者其上级元素。|如果你有一个导航菜单，并希望在用户点击导航链接时突出显示当前活动的链接|
| `:default` |匹配一组相似的元素中默认的一个或者更多的 UI 元素。|比如默认选中的选择框|
| `:dir` |基于其方向性（HTML [`dir`](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes/dir) 属性或者 CSS [`direction`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/direction) 属性的值）匹配一个元素。| `:dir(ltr),:dir(rtl)` 文字显示从左到右或者从右到左 |
| `:disabled` |匹配处于关闭状态的用户界面元素|其实就是针对标签中使用 disabled 修饰的元素，也就是禁用，比如 `<input>` 如果使用此修饰，那么就无法输入 |
| `:empty` |匹配除了可能存在的空格外，没有子元素的元素。|
| `:enabled` |匹配处于开启状态的用户界面元素。|与 `:disabled` 相反，仅适用于 `<input>,<button>` 等 |
| `:first` |匹配[分页媒体](https://developer.mozilla.org/zh-CN/docs/Web/CSS/Paged_Media)的第一页。|
| `:first-child` |匹配兄弟元素中的第一个元素。|
| `:first-of-type` |匹配兄弟元素中第一个某种类型的元素。| `p:first-of-type { /* 应用于同级 <p> 元素中的第一个 <p> 元素的样式 */ }`|
| `:focus` |当一个元素有焦点的时候匹配。|
| `:focus-visible` |当元素有焦点，且焦点对用户可见的时候匹配。|`:focus-visible` 伪类选择器类似于 `:focus` 伪类选择器，它也选择当前获得焦点的元素。但与 `:focus` 不同的是，`:focus-visible` 只选择那些用户可以感知到的焦点元素。换句话说，它会忽略那些在用户界面中不可见的元素（例如通过键盘操作而不是鼠标操作获得焦点的元素）。|
| `focus-within` |匹配有焦点的元素，以及子代元素有焦点的元素。|
| `future(en-US)` |匹配当前元素之后的元素。|
| `:hover` |当用户悬浮到一个元素之上的时候匹配。|
| `:indeterminate` |匹配未定态值的 UI 元素，通常为[复选框](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/input/checkbox)。| `input[type="checkbox"]:indeterminate { /* 应用于处于不确定状态的复选框的样式 */ }`|
| `:in-range` |用一个区间匹配元素，当值处于区间之内时匹配。|比如 `<input type="number" id="age" name="age" min="18" max="60">` 用此属性修饰可以达到输入正确的值才显示颜色|
| `:invalid` |匹配诸如 `<input>` 的位于不可用状态的元素。| `input[type="email"]:invalid { border-color: red; }` 对邮箱进行校验|
| `:lang` |基于语言（HTML[lang](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes/lang)属性的值）匹配元素。|
| `:last-child` |匹配兄弟元素中最末的那个元素。|
| `:last-of-type` |匹配兄弟元素中最后一个某种类型的元素。|
| `:left` |在[分页媒体 (en-US)](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_paged_media "Currently only available in English (US)")中，匹配左手边的页。|
| `:link` |匹配未曾访问的链接。|
| `:local-link(en-US)` |匹配指向和当前文档同一网站页面的链接。|
| `:is()` |匹配传入的选择器列表中的任何选择器。|
| `:not` |匹配作为值传入自身的选择器未匹配的物件。|
| `:nth-child` |匹配一列兄弟元素中的元素——兄弟元素按照_an+b_形式的式子进行匹配（比如 2n+1 匹配元素 1、3、5、7 等。即所有的奇数个）。|
| `:nth-of-type` |匹配某种类型的一列兄弟元素（比如，`<p>`元素）——兄弟元素按照_an+b_形式的式子进行匹配（比如 2n+1 匹配元素 1、3、5、7 等。即所有的奇数个）。|
| `:nth-last-child` |匹配一列兄弟元素，从后往前倒数。兄弟元素按照_an+b_形式的式子进行匹配（比如 2n+1 匹配按照顺序来的最后一个元素，然后往前两个，再往前两个，诸如此类。从后往前数的所有奇数个）。|从后往前数|
| `:nth-last-of-type` |匹配某种类型的一列兄弟元素（比如，`<p>`元素），从后往前倒数。兄弟元素按照_an+b_形式的式子进行匹配（比如 2n+1 匹配按照顺序来的最后一个元素，然后往前两个，再往前两个，诸如此类。从后往前数的所有奇数个）。|
| `:only-child` |匹配没有兄弟元素的元素。|
| `:only-of-type` |匹配兄弟元素中某类型仅有的元素。|
| `:optional` |匹配不是必填的 form 元素。|
| `:out-of-range` |按区间匹配元素，当值不在区间内的的时候匹配。|
| `:past(en-US)` |匹配当前元素之前的元素。|
| `:placeholder-shown` |匹配显示占位文字的 input 元素。|针对 `<input>,<textarea>`，比如当未选中时展示某种样式 |
| `:playing` |匹配代表音频、视频或者相似的能“播放”或者“暂停”的资源的，且正在“播放”的元素。|
| `:paused` |匹配代表音频、视频或者相似的能“播放”或者“暂停”的资源的，且正在“暂停”的元素。|
| `:read-only` |匹配用户不可更改的元素。|
| `:read-write` |匹配用户可更改的元素。|
| `:required` |匹配必填的 form 元素。|
| `:right` |在[分页媒体 (en-US)](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_paged_media "Currently only available in English (US)")中，匹配右手边的页。|
| `:root` |匹配文档的根元素。|
| `:scope` |匹配任何为参考点元素的的元素。|
| `:valid` |匹配诸如`<input>`元素的处于可用状态的元素。|
| `:target` |匹配当前 URL 目标的元素（例如如果它有一个匹配当前[URL 分段](https://en.wikipedia.org/wiki/Fragment_identifier)的元素）。|
| `:visited` |匹配已访问链接。|


相关例子：

**`:invalid`**
```html
<!DOCTYPE html>
<html>
<head>
  <style>
    input[type="email"]:invalid {
      border-color: green;
    }
    input[type="email"]:invalid::placeholder {
      color: red;
    }
  </style>
</head>
<body>
  <form>
    <label for="email">Email：</label>
    <input type="email" id="email" name="email" required placeholder="请输入有效的电子邮件地址">
    <button type="submit">提交</button>
  </form>
</body>
</html>
```
使用 `input[type="email"]:invalid` 选择器选择了类型为 `email` 并且无效的输入框，并将其边框颜色设置为红色。我们还使用 `::placeholder` 伪元素选择器来选择输入框中的占位符文本，并将其颜色也设置为红色，以提醒用户输入有效的电子邮件地址。

**`:is(selector) :not(selector)`**
```html
<!DOCTYPE html>
<html>
<head>
  <style>
    :is(h1, h2, h3) {
      color: red;
    }

    :is(.important, .highlight) {
      background-color: yellow;
    }

    :is(p:not(.special)) {
      font-style: italic;
    }
  </style>
</head>
<body>
  <h1>Title 1</h1>
  <h2>Title 2</h2>
  <h3>Title 3</h3>
  <p class="important">Important paragraph</p>
  <p class="highlight">Highlighted paragraph</p>
  <p class="special">Special paragraph</p>
  <p>Normal paragraph</p>
</body>
</html>
```

**`:nth-child()`**
```html
<!DOCTYPE html>
<html>
<head>
    <style>
        /* 选择第一个子元素 */
        li:nth-child(1) {
        color: red;
        }

        /* 选择偶数位置的子元素 */
        li:nth-child(even) {
        background-color: lightgray;
        }

        /* 选择3n+2位置的子元素 */
        li:nth-child(3n+2) {
        font-weight: bold;
        }
    </style>
</head>
<body>
    <ul>
        <li>Item 1</li>
        <li>Item 2</li>
        <li>Item 3</li>
        <li>Item 4</li>
        <li>Item 5</li>
    </ul>
</body>
</html>
```

需要注意的是，`:nth-child()` 选择器的计数是基于所有子元素，而不仅仅是相同类型的元素。因此，如果父元素中包含其他类型的元素（如文本节点或注释节点），它们也会被计算在内。

### 伪元素导航

|伪元素|描述|示例|
|-|-|-|
| `::before` |用于在元素内容前插入生成的内容。||
| `::after` |用于在元素内容后插入生成的内容。||
| `::first-letter` |用于选择元素内容的第一个字母或字。||
| `::first-line` |用于选择元素内容的第一行。||
| `::selection` |用于选择用户选中的文本部分。||
| `::placeholder` |用于选择输入框中的占位符文本。||
| `::marker` |用于选择列表项标记的部分。|就是选择某个选项时展示某种样式|
| `::backdrop` |用于选择全屏模式下的背景元素。|比如视频播放全屏时的背景色，但是注意兼容性|
| `::cue` |用于选择 `<audio>` 和 `<video>` 元素中的音频和视频提示。||
| `::slotted` |用于选择插入到 `<slot>` 元素中的内容。||

**`:before vs ::before`**
在 CSS 中，`:before` 和 `::before` 都是伪元素选择器，用于在元素的内容前插入生成的内容。

`::before` 是 CSS3 中引入的伪元素选择器的新语法，用两个冒号表示，例如 `::before`。它用于向目标元素的内容前插入生成的内容，可以通过 CSS 属性来设置生成的内容的样式。而 `:before` 时旧版中的伪元素写法，不推荐使用。

**`::selection`**

当使用 `::selection` 选择器时，可以为选中的文本设置样式。下面是一个使用 `::selection` 的例子：
```html
<head>
  <style>
    p::selection {
      background-color: yellow;
    }
  </style>
</head>
<body>
  <h1>示例文本</h1>
  <p>这是一段示例文本，当您在页面中选择时，将应用 ::selection 的样式。</p>
</body>
```

当选择文本时背景会变为黄色。

**`::placeholder`**

可以为表单元素的占位符文本设置样式。下面是一个使用 `::placeholder` 的例子：
```html
<head>
  <style>
    input::placeholder {
      color: red;
      font-style: italic;
    }
  </style>
</head>
<body>
  <input type="text" placeholder="请输入内容">
</body>
```
其实就是设置输入框的样式。不要和标签中的 placeholder 弄混，标签中是设置输入框中默认文本，一般是提示性文本。


## 关系选择器

### 后代选择器

```html
<div class="box"><p>Text in .box</p></div>
<p>Text not in .box</p>
```

```css
.box p {
    color: red;
}
```

这里只会匹配处于带有 `.box` 类的元素里面的 `<p>` 元素。


### 子代关系选择器

子代关系选择器是个大于号（`>`），只会在选择器选中直接子元素的时候匹配。继承关系上更远的后代则不会匹配。例如，只选中作为 `<article>` 的直接子元素的 `<p>` 元素：

```html
<ul>
    <li>Unordered item</li>
    <li>Unordered item
        <ol>
            <li>Item 1</li>
            <li>Item 2</li>
        </ol>
    </li>
</ul>
```

```css
ul > li {
    border-top: 5px solid red;
} 
```

这里只会选择 `<ul>` 的直接子代 `<li>` 进行设置，对于更远的子代则不会。

### 邻接兄弟

邻接兄弟选择器（`+`）用来选中恰好处于另一个在继承关系上同级的元素旁边的物件。例如，选中所有紧随 `<p>` 元素之后的 `<img>` 元素：

```css
h1 + p {
    font-weight: bold;
    background-color: #333;
    color: #fff;
    padding: .5em;
}  
```

```html
<article>
    <h1>A heading</h1>
    <!--只会选择此<p>标签进行渲染-->
    <p>Veggies es bonus vobis, proinde vos postulo essum magis kohlrabi welsh onion daikon amaranth tatsoi tomatillo
            melon azuki bean garlic.</p>

    <p>Gumbo beet greens corn soko endive gumbo gourd. Parsley shallot courgette tatsoi pea sprouts fava bean collard
            greens dandelion okra wakame tomato. Dandelion cucumber earthnut pea peanut soko zucchini.</p>
</article>
```

### 通用兄弟

如果你想选中一个元素的兄弟元素，即使它们不直接相邻，你还是可以使用通用兄弟关系选择器（`~`）。要选中所有的 `<p>` 元素后_任何地方_的 `<img>` 元素，我们会这样做：

```html
<article>
    <h1>A heading</h1>
    <p>I am a paragraph.</p>
    <div>I am a div</div>
    <p>I am another paragraph.</p>
</article>
```

```css
h1 ~ p {
    font-weight: bold;
    background-color: #333;
    color: #fff;
    padding: .5em;
}
```

### 使用关系选择器

你能用关系选择器，将任何在我们前面的学习过程中学到的选择器组合起来，选出你的文档中的一部分。例如如果我们想选中为 `<ul>` 的直接子元素的带有“a”类的列表项的话，我可以用下面的代码。

```css
ul > li[class="a"]  {  }
```


## 层叠与继承

### 冲突规则

CSS 代表**层叠样式表**（Cascading Style Sheets），理解第一个词*层叠*（cascade）很重要——层叠的表现方式是理解 CSS 的关键。

在某些时候，在做一个项目过程中你会发现一些应该产生效果的样式没有生效。通常的原因是你创建了两个应用于同一个元素的规则。与 [**层叠**](https://developer.mozilla.org/zh-CN/docs/Web/CSS/Cascade) 密切相关的概念是 [**优先级**（specificity）](https://developer.mozilla.org/zh-CN/docs/Web/CSS/Specificity)，决定在发生冲突的时候应该使用哪条规则。设计元素样式的规则可能不是期望的规则，因此需要了解这些机制是如何工作的。

这里也有 [**继承**](https://developer.mozilla.org/zh-CN/docs/Web/CSS/Inheritance) 的概念，也就是在默认情况下，一些 css 属性继承当前元素的父元素上设置的值，有些则不继承。这也可能导致一些和期望不同的结果。

### 层叠

样式表 [**层叠**](https://developer.mozilla.org/zh-CN/docs/Web/CSS/Cascade) ——简单的说，就是 CSS 规则的顺序很重要；当应用两条同级别的规则到一个元素的时候，写在后面的就是实际使用的规则。

```html
<h1>This is my heading.</h1>
```

```css
h1 { 
    color: red; 
}
h1 { 
    color: blue; 
}
```

这里最终展示的颜色是 blue

### 优先级

浏览器是根据[优先级](https://developer.mozilla.org/zh-CN/docs/Web/CSS/Specificity)来决定当多个规则有不同选择器对应相同的元素的时候需要使用哪个规则。它基本上是一个衡量选择器具体选择哪些区域的尺度：

- 一个元素选择器不是很具体，则会选择页面上该类型的所有元素，所以它的优先级就会低一些。
- 一个类选择器稍微具体点，则会选择该页面中有特定 `class` 属性值的元素，所以它的优先级就要高一点。

```html
<h1 class="main-heading">This is my heading.</h1>
```

```css
.main-heading { 
    color: red; 
}
        
h1 { 
    color: blue; 
}
```

这里最终会展示 red，因为使用 class 选择更为准确。


### 继承

继承也需要在上下文中去理解——一些设置在父元素上的 CSS 属性是可以被子元素继承的，有些则不能。

举一个例子，如果你设置一个元素的 `color` 和 `font-family`，每个在里面的元素也都会有相同的属性，除非你直接在元素上设置属性。

```html
<p>As the body has been set to have a color of blue this is inherited through the descendants.</p>
<p>We can change the color by targeting the element with a selector, such as this <span>span</span>.</p>
```

```css
body {
    color: blue;
}

span {
    color: black;
}
```

这里所有元素都继承了 body 的设置，但是 span 做了单独设置，则使用自己独有的设置。


### 理解继承

```html
<head>
    <style>
        .main {
            color: rebeccapurple;
            border: 2px solid #ccc;
            padding: 1em;
        }
        .special {
            color: red;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <ul class="main">
        <li>Item One</li>
        <li>Item Two
            <ul>
                <li>2.1</li>
                <li>2.2</li>
            </ul>
        </li>
        <li>Item Three
            <ul class="special">
                <li>3.1
                    <ul>
                        <li>3.1.1</li>
                        <li>3.1.2</li>
                    </ul>
                </li>
                <li>3.2</li>
            </ul>
        </li>
    </ul>
</body>
```

像 `width`（上面提到的）、`margin`、`padding` 和 `border` 不会被继承。如果 border 可以被继承，每个列表和列表项都会获得一个边框——可能就不是我们想要的结果！

尽管每个 CSS 属性页都列出了属性是否被继承，但我们通常可以通过常识来判断哪些属性属于默认继承。

### 控制继承

CSS 为控制继承提供了五个特殊的通用属性值。每个 CSS 属性都可以接收这些值。

[`inherit`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/inherit)
设置该属性会使子元素属性和父元素相同。实际上，就是“开启继承”。

[`initial`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/initial)
将属性的值重置为默认值。通过将属性值设置为 `initial`，可以清除继承的值，将属性恢复为默认值。

[`revert`](https://developer.mozilla.org/en-US/docs/Web/CSS/revert "Currently only available in English (US)")
这个关键字用于将属性值恢复为继承的值（如果有的话），否则将其重置为默认值。`revert` 实际上是一个组合关键字，它会根据继承链上的最近的一个具有继承值的祖先元素来确定属性值。

[`revert-layer` (en-US)](https://developer.mozilla.org/en-US/docs/Web/CSS/revert-layer "Currently only available in English (US)")
这个关键字是 CSS Houdini 的一部分，目前尚未广泛支持。它类似于 `revert`，但与 `revert` 不同的是，`revert-layer` 可以在更细粒度的层次上控制继承值的恢复。

[`unset`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/unset)
这个关键字组合了 `inherit`、`initial` 和 `revert` 的行为。它会根据属性是否有继承值来决定是继承还是重置为默认值。如果属性有继承值，则继承该值；如果没有继承值，则将属性重置为默认值。

```html
<head>
    <style>
        body {
            color: green;/*默认不会继承*/
        }
        .my-class-1 a {
            color: inherit;/*开启继承*/
        }
        .my-class-2 a {
            color: initial;/*初始值为黑色*/
        }
        .my-class-3 a {
            color: unset;
        }
    </style>
</head>
<body>
    <ul>
        <li>Default <a href="#">link</a> color</li>
        <li class="my-class-1">Inherit the <a href="#">link</a> color</li>
        <li class="my-class-2">Initial the <a href="#">link</a> color</li>
        <li class="my-class-3">Unset the <a href="#">link</a> color</li>
    </ul>
</body>
```


### 重置所有属性值

CSS 的简写属性 [`all`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/all) 可以用于同时将这些继承值中的一个应用于（几乎）所有属性。它的值可以是其中任意一个（`inherit`、`initial`、`unset` 或 `revert`）。这是一种撤销对样式所做更改的简便方法，以便回到之前已知的起点。

可以使用 `all: unset;` 或者 `all: initial;`。这些属性将重置元素的所有属性到初始值或默认值。

使用`all: unset;`会将元素的所有属性值重置为初始值，并清除任何继承值或显式设置的值。

使用`all: initial;`会将元素的所有属性值重置为其默认值，这些默认值由浏览器规定。

下面是一个示例，展示如何重置元素的所有属性值：

```
.reset { all: unset; }

<div class="reset"> 
	<!-- 其他内容 --> 
</div>
```
通过将 `reset` 类应用到 `<div>` 元素，它的所有属性值都将被重置为初始值或默认值。

### 理解层叠

现在，我们将要了解层叠如何定义在不止一个元素的时候怎么应用 CSS 规则。有三个因素需要考虑，根据重要性排序如下，后面的更重要：

- 资源顺序
	我们已经看到了顺序对于层叠的重要性。如果你有超过一条规则，而且都是相同的权重，那么最后面的规则会应用。可以理解为后面的规则覆盖前面的规则，直到最后一个开始设置样式。
- 优先级
	你会发现在一些情况下，有些规则在最后出现，但是却应用了前面的具有冲突的规则。这是因为前面的有更高的**优先级**——它范围更小，因此浏览器就把它选择为元素的样式。就像前面看到的，类选择器的权重大于元素选择器，因此类上定义的属性将覆盖应用于元素上的属性。
	这里需要注意虽然我们考虑的是选择器，以及应用在选中对象上的规则，但不会覆盖所有规则，只覆盖相同的属性。这样可以避免重复的 CSS。一种常见的做法是给基本元素定义通用样式，然后给不同的元素创建对应的类。
- 重要程度

一个选择器的优先级可以说是由三个不同的值（或分量）相加，可以认为是百（ID）十（类）个（元素）——三位数的三个位数：

- **ID**：选择器中包含 ID 选择器则百位得一分。
- **类**：选择器中包含类选择器、属性选择器或者伪类则十位得一分。
- **元素**：选择器中包含元素、伪元素选择器则个位得一分。

|选择器|	ID|	类|	元素|	优先级|
|-|-|-|-|-|
| `h1` |	0|	0|	1|	0-0-1|
| `h1 + p::first-letter` |	0|	0|	3|	0-0-3|
| `li > a[href*="en-US"] > .inline-warning` |	0|	2|	2|	0-2-2|
| `#identifier` |	1|	0|	0|	1-0-0|
| `button:not(#mainBtn, .cta)` |	1|	0|	1|	1-0-1|

### 内联样式

内联样式，即 [`style`](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes#style) 属性内的样式声明，优先于所有普通的样式，无论其优先级如何。这样的声明没有选择器，但它们的优先级可以理解为 1-0-0-0；即无论选择器中有多少个 ID，它总是比其他任何优先级的权重都要高。

## 盒模型






